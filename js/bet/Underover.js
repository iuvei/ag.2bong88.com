var submit = 0;var fFrame = getParent(window);function getParent(b) {    var a = b;    for (var c = 0; c < 4; c++) {        if (a.SiteMode != null) {            return a        } else {            a = a.parent        }    }    return null}function decode_base64(t) {    var f = {},        g, h, u = [],        q = "",        y = String.fromCharCode;    var m = [        [65, 91],        [97, 123],        [48, 58],        [43, 44],        [47, 48]    ];    for (z in m) {        for (g = m[z][0]; g < m[z][1]; g++) {            u.push(y(g))        }    }    for (g = 0; g < 64; g++) {        f[u[g]] = g    }    for (g = 0; g < t.length; g += 72) {        var a = 0,            d, A, j = 0,            p = t.substring(g, g + 72);        for (A = 0; A < p.length; A++) {            d = f[p.charAt(A)];            a = (a << 6) + d;            j += 6;            while (j >= 8) {                q += y((a >>> (j -= 8)) % 256)            }        }    }    return q}var isVRace = false;function formvalidation(frmnm) {    if (document.getElementById("BetProcessContainer").style.display == "none" && document.getElementById("Betslip").style.display == "none") {        return false    }    if (document.getElementById("btnBPSubmit").disabled) {        return false    }    CtrlSubmitBtnDisabled(true);    var mf;    var i;    var str;    var found = false,        found1 = false,        login = false;    var balance, minbet = 0,        maxbet = 0;    var s_home = false,        s_away = false;    var stake = 0,        jml = 0,        plafond = 0,        bettype;    var sportType = 0;    var IsRacing = false;    var objStake;    mf = document.forms[frmnm];    login = true;    sportType = parseInt(mf.elements.sporttype.value);    if (sportType == 151 || sportType == 152 || sportType == 153) {        IsRacing = true    }    if (sportType >= 181 && sportType <= 185) {        isVRace = true    } else {        isVRace = false    }    minbet = parseInt(removeCommas(mf.elements.MINBET.value), 10);    maxbet = parseInt(removeCommas(mf.elements.MAXBET.value), 10);    bettype = parseInt(mf.elements.bettype.value, 10);    var lmm, hmm, rusm, rusm1;    lmm = mf.elements.lowerminmesg.value;    hmm = mf.elements.highermaxmesg.value;    rusm = mf.elements.areyousuremesg.value;    rusm1 = mf.elements.areyousuremesg1.value;    ermm = mf.elements.incorrectStakeMesg.value;    if (IsRacing || isVRace) {        objStake = mf.elements.HorseBPstake    } else {        objStake = mf.elements.BPstake    }    stake = Math.round(replaceSubstring(objStake.value, ",", ""));    if (isNaN((replaceSubstring(objStake.value, ",", "")))) {        alert(ermm);        objStake.value = "";        objStake.focus();        document.getElementById("payOut").innerHTML = "";        CtrlSubmitBtnDisabled(false);        if (document.getElementById("cbAutoAccept") != null) {            document.getElementById("cbAutoAccept").checked = false        }        return false    }    if (isNaN(objStake)) {        if (stake < 0) {            alert("Stake must be greater than zero !");            objStake.value = "";            objStake.focus();            document.getElementById("payOut").innerHTML = "";            CtrlSubmitBtnDisabled(false);            if (document.getElementById("cbAutoAccept") != null) {                document.getElementById("cbAutoAccept").checked = false            }            return false        }        var setPayOut = function(stake) {            if (isVRace) {                var oddsStr = document.getElementById("VRaceOddsDisp2").innerHTML.replace("/", "+");                var oddsValue = eval(oddsStr);                document.getElementById("VRPayout").innerHTML = payOutCalculate(oddsValue, stake, false);                document.getElementById("VRMaxPayout").innerHTML = payOutCalculate(oddsValue, stake / 2, false)            } else {                if (document.getElementById("oddsType").value == "5") {                    document.getElementById("payOut").innerHTML = payOutCalculate(parseInt(removeCommas(document.getElementById("bodds").innerHTML), 10) / 100, stake, true)                } else {                    if (selBetMode != "OT" && (bettype == 1 || bettype == 2 || bettype == 3 || bettype == 7 || bettype == 8 || bettype == 12 || bettype == 20 || bettype == 21) && (document.getElementById("oddsType").value != "1")) {                        document.getElementById("payOut").innerHTML = payOutCalculate(removeCommas(document.getElementById("bodds").innerHTML), stake, true)                    } else {                        document.getElementById("payOut").innerHTML = payOutCalculate(removeCommas(document.getElementById("bodds").innerHTML), stake, false)                    }                }            }        };        if (stake < minbet) {            alert(lmm);            objStake.value = addCommas(minbet.toFixed(0));            objStake.focus();            setPayOut(minbet);            CtrlSubmitBtnDisabled(false);            if (document.getElementById("cbAutoAccept") != null) {                document.getElementById("cbAutoAccept").checked = false            }            return false        }        if (stake > maxbet) {            alert(hmm);            objStake.value = addCommas(maxbet.toFixed(0));            objStake.focus();            setPayOut(maxbet);            CtrlSubmitBtnDisabled(false);            if (document.getElementById("cbAutoAccept") != null) {                document.getElementById("cbAutoAccept").checked = false            }            return false        }        var bettypeArray = ["33", "43", "1233"];        var sporttypeArray = ["151", "152", "153", "181", "182", "183", "184", "185"];        if (indexOf(bettypeArray, bettype) != -1 && indexOf(sporttypeArray, document.getElementById("sporttype").value) != -1) {            if (stake % 2 != 0) {                var msg = document.getElementById("hidStake2").value;                alert(msg);                objStake.value = "";                objStake.focus();                CtrlSubmitBtnDisabled(false);                if (document.getElementById("cbAutoAccept") != null) {                    document.getElementById("cbAutoAccept").checked = false                }                return false            }        }    }    var confirmMsg = rusm;    if (confirmMode == "1") {        confirmMsg = rusm1    }    if (confirm(confirmMsg)) {        dobet = true;        CtrlSubmitBtnDisabled(true);        mf.username.value = fFrame.UserName;        mf.submit();        return true    } else {        dobet = false;        objStake.select();        if (document.getElementById("cbAutoAccept") != null) {            document.getElementById("cbAutoAccept").checked = false        }        CtrlSubmitBtnDisabled(false);        return false    }}function UsingAutoAccept() {    document.getElementById("cbAutoAccept").checked = true;    betSubmit("click")}function Using1X2AsiaHdp() {    document.getElementById("cb1X2AsiaHdp").checked = true;    document.getElementById("btnBPSubmit_P").click()}function DoBetProcess(f, b, e, g, d, c) {    document.getElementById("div_MixParlay").style.display = "none";    tmp_obj = document.getElementById("chKeepBet");    var a = f + "_" + b + "_" + e;    if (c != null) {        a += "_" + c    }    DropTimeoutHandlers();    if (fFrame.SiteMode == "1") {        document.getElementById("bp_p_Match").value = a;        if (eObj != null) {            document.getElementById("bp_p_key").value = eObj.GetKey("bet")        }        document.fomBetProcessPhone_Data.action = "index.php?r=site/BetProcessData";        document.fomBetProcessPhone_Data.submit()    } else {        if (fFrame.SiteMode == "0") {            CloseMiniGame()        }        DoLeftMenuDisplay();        document.getElementById("BPstake").value = "";        document.getElementById("HorseBPstake").value = "";        document.getElementById("payOut").innerHTML = "";        document.getElementById("KeepOdds").innerHTML = "<span>" + RES_KeepOdds + "</span>";        document.getElementById("bp_Match").value = a;        if (eObj != null) {            document.getElementById("bp_key").value = eObj.GetKey("bet")        }        if (document.getElementById("UN") != null) {            document.getElementById("UN").value = fFrame.UserName        }        document.getElementById("bp_ssport").value = fFrame.LastSelectedSport;        if (parseInt(fFrame.LastSelectedSport, 10) >= 181 && parseInt(fFrame.LastSelectedSport, 10) <= 185 && !d) {            document.fomBetProcess_Data.action = "BetProcess_Data_V.aspx";            tmp_obj = null        } else {            var h = "";            if (g != null) {                h = "?stake=" + g            }            fFrame.topFrame.g_SMF.stopWatcher();            document.fomBetProcess_Data.action = "index.php?r=site/BetProcessData" + h        }        document.fomBetProcess_Data.submit();        CtrlSubmitBtnDisabled(true)    }}function SwapOdds(b) {    var a = parseFloat(b);    if (a > 0) {        return "-" + b    } else {        return b.replace("-", "")    }}function SetBetProcessDataNoPhone(b, e) {    document.getElementById("sporttype").value = b.hiddenSportType;    if (e.IsRacing || e.isVRace) {        document.getElementById("KeepOdds").innerHTML = ""    }    if (document.getElementById("trHorseTotoKeep") != null) {        document.getElementById("trHorseTotoKeep").style.display = "none"    }    ChangeDisplayMode("bet");    if (e.HorseFixed) {        OddsKeepCountTime(document.getElementById("HorseFixchKeepBet"));        if (b.hiddenBetType != "43") {            document.getElementById("HorseType41").style.display = "";            document.getElementById("HorseType43").style.display = "none";            document.getElementById("HFixedbodds1").style.display = "";            document.getElementById("HFixedbodds2").style.display = "none";            document.getElementById("HFixedbodds3").style.display = "none";            document.getElementById("HFixedbodds3").style.display = "none";            obj = document.getElementById("HFixedbodds1");            obj.className = b.lblOddsColor;            obj.innerHTML = b.lblOddsValue        } else {            document.getElementById("HorseType41").style.display = "none";            document.getElementById("HorseType43").style.display = "";            document.getElementById("HFixedbodds1").style.display = "none";            document.getElementById("HFixedbodds2").style.display = "";            document.getElementById("HFixedbodds3").style.display = "";            obj = document.getElementById("HFixedbodds2");            obj.className = b.lblOddsColor;            obj.innerHTML = b.lblOddsValue;            obj = document.getElementById("HFixedbodds3");            obj.className = b.lblOddsColor;            obj.innerHTML = b.lblPlaceOddsValue        }    } else {        if (e.HorseTote) {            if (e.isVRace) {                OddsKeepCountTime(null);                document.getElementById("trHorseTotoKeep").style.display = "none"            } else {                OddsKeepCountTime(document.getElementById("FScreen"));                document.getElementById("trHorseTotoKeep").style.display = ""            }            document.getElementById("HorseBPBetKey").value = b.hiddenBetKey        } else {            if (e.NormalBet) {                OddsKeepCountTime(document.getElementById("chKeepBet"));                obj = document.getElementById("bodds");                obj.className = b.lblOddsColor;                obj.innerHTML = b.lblOddsValue;                document.getElementById("BPBetKey").value = b.hiddenBetKey            }        }    }    document.getElementById("menuTitleOT").style.display = "none";    if (fFrame.Deposit_SiteMode == null) {        document.getElementById("phoneOutright").style.display = "none"    }    document.getElementById("ot_dvChoiceValue").style.display = "none";    document.getElementById("spHome_id").style.display = "";    document.getElementById("spAway_id").style.display = "";    document.getElementById("ot_dvChoiceValue_id").style.display = "none";    document.getElementById("chk_BettingChange").value = b.chk_BettingChange;    if (e.IsRacing || e.isVRace) {        SetBetProcessDataRacing(b, e)    } else {        SetBetProcessDataNormal(b)    }    if (b.liveBgColor == "#FFFFFF") {        document.getElementById("BetInfo").className = "BetInfo"    } else {        document.getElementById("BetInfo").className = "BetInfo liveligh"    }    obj = document.getElementById("spChoiceClass");    obj.className = b.lblChoiceClass;    obj.innerHTML = b.lblChoiceValue;    obj = document.getElementById("sbBetKindValue");    obj.innerHTML = b.lblBetKindValue;    obj = document.getElementById("spScoreValue");    switch (b.hiddenBetType) {        case "20":        case "21":            obj.innerHTML = "";            break;        default:            obj.innerHTML = b.lblScoreValue;            break    }    obj = document.getElementById("divAcceptBetterOdds");    obj.style.display = "";    document.getElementById("stakeRequest").value = b.hiddenStakeRequest;    document.getElementById("oddsRequest").value = b.hiddenOddsRequest;    document.getElementById("MINBET").value = 0.1;    document.getElementById("MAXBET").value = b.hiddenMaxBet;    document.getElementById("bettype").value = b.hiddenBetType;    document.getElementById("oddsType").value = b.hiddenOddsType;    if (b.OddsStakeChg == "1") {        alert(document.getElementById("oddsWarning").value)    }    processMsg(b.hiddenSportType, e);    if (b.hiddenStakeRequest == "") {        if (document.getElementById("BPstake").value != "") {            b.hiddenStakeRequest = document.getElementById("BPstake").value        }    }    if (b.hiddenStakeRequest != "") {        document.getElementById("BPstake").value = b.hiddenStakeRequest;        document.getElementById("BPstake").select();        var d = ["1", "2", "3", "7", "8", "12", "20", "21"];        var a = b.hiddenBetType;        var c = b.hiddenOddsType;        if ((indexOf(d, a) != -1) && (c != "1")) {            if (c == "5") {                document.getElementById("payOut").innerHTML = payOutCalculate(parseInt(removeCommas(document.getElementById("bodds").innerHTML), 10) / 100, removeCommas(b.hiddenStakeRequest), true)            } else {                document.getElementById("payOut").innerHTML = payOutCalculate(removeCommas(document.getElementById("bodds").innerHTML), removeCommas(b.hiddenStakeRequest), true)            }        } else {            if (e.isVRace) {                switch (b.hiddenBetType) {                    case "1231":                        document.getElementById("VRPayout").innerHTML = payOutCalculate(removeCommas(b.lblOddsValue), removeCommas(b.hiddenStakeRequest), false);                        break;                    case "1232":                        document.getElementById("VRPayout").innerHTML = payOutCalculate(removeCommas(b.lblPlaceOddsValue), removeCommas(b.hiddenStakeRequest), false);                        break;                    case "1233":                        document.getElementById("VRMaxPayout").innerHTML = payOutCalculate((parseFloat(removeCommas(b.lblOddsValue)) + parseFloat(removeCommas(b.lblPlaceOddsValue))) / 2, removeCommas(b.hiddenStakeRequest), false);                        break                }            } else {                document.getElementById("payOut").innerHTML = payOutCalculate(removeCommas(document.getElementById("bodds").innerHTML), removeCommas(b.hiddenStakeRequest), false)            }        }    }    if (e.isVRace) {        document.fomConfirmBet.action = "underover/confirm_bet_data_v.aspx"    } else {        if (e.IsRacing) {            document.fomConfirmBet.action = "underover/confirm_bet_data_s151.aspx"        } else {            document.fomConfirmBet.action = "index.php?r=site/ConfirmDataBet"        }    }}function SetBetProcessDataPhone(b) {    ChangeDisplayMode("betP");    document.getElementById("menuTitleOT").style.display = "none";    if (fFrame.Deposit_SiteMode == null) {        document.getElementById("phoneOutright").style.display = "none"    }    document.getElementById("ot_dvChoiceValue").style.display = "none";    document.getElementById("spHome_id").style.display = "";    document.getElementById("spAway_id").style.display = "";    document.getElementById("ot_dvChoiceValue_id").style.display = "none";    obj = document.getElementById("BetProcessPhoneData");    obj.style.display = "";    obj.innerHTML = b.lblSportKind + " / ";    document.getElementById("BetProcessPhoneDataOT").style.display = "none";    document.getElementById("chk_BettingChange").value = b.chk_BettingChange;    obj = document.getElementById("PhoneBetKind");    obj.setAttribute("height", "=27");    obj = document.getElementById("spBetKind_P");    obj.innerHTML = b.lblBetKind;    obj = document.getElementById("BPstake_P");    if (document.all) {        objScore = document.getElementById("liveScoreH");        obj.onKeyDown = function() {            onKeyDownFunc(objScore, event)        };        obj.onkeyup = function() {            payOutOnKU(this, event)        }    } else {        obj.setAttribute("onkeyup", "payOutOnKU(document.getElementById('BPstake_P'), event)");        obj.setAttribute("onKeyDown", "onKeyDownFunc('liveScoreH', event)")    }    obj = document.getElementById("spOddsStatus_P");    obj.className = b.lbloddsStatusClass;    obj.innerHTML = b.lbloddsStatus;    document.getElementById("bettingGraphRemark").value = "";    document.getElementById("liveIndicator_P").value = b.hiddenliveIndicator;    if (b.liveBgColor == "#FFFFFF") {        document.getElementById("BetInfo").className = "BetInfo"    } else {        document.getElementById("BetInfo").className = "BetInfo liveligh"    }    obj = document.getElementById("spChoiceClass_P");    obj.className = b.lblChoiceClass;    obj.innerHTML = b.lblChoiceValue;    var c = document.getElementById("tr1X2AsiaHdp");    if (c != null) {        c.style.display = "none";        document.getElementById("cb1X2AsiaHdp").checked = false    }    document.getElementById("spBetKind_P").style.display = "";    document.getElementById("spChoiceClass_P").style.display = "";    document.getElementById("PhoneBetKind").style.display = "";    switch (b.hiddenBetType) {        case "1":        case "7":        case "28":            document.getElementById("phoneOutright").style.display = "none";            document.getElementById("phoneInputBox1").style.display = "none";            document.getElementById("phoneInputBox2").style.display = "none";            document.getElementById("phoneInputBox3").style.display = "";            document.getElementById("liveScoreContainer").style.display = "";            document.getElementById("RemarkContainer").style.display = b.lblhedgeBox;            document.getElementById("BetKindValue").innerHTML = b.lblBetKindValue;            document.getElementById("bp_hdp1Value_3").value = b.lblhdp1Value;            document.getElementById("bp_hdp2Value_3").value = b.lblhdp2Value;            obj = document.getElementById("bp_odds3");            obj.className = b.lblOddsColor;            obj.value = b.lblOddsValue;            obj = document.getElementById("liveScoreH");            obj.value = b.lblLiveScoreH;            obj.readOnly = b.lblReadyOnly;            obj = document.getElementById("liveScoreA");            obj.value = b.lblLiveScoreA;            obj.readOnly = b.lblReadyOnly;            if ((b.hiddenBetType == "1" || b.hiddenBetType == "7") && b.hiddenSportType == "1" && Using1x2AsiaHdp) {                if (c != null) {                    c.style.display = "";                    var a = document.getElementById("btnBPSubmit_P1");                    if (a != null) {                        a.disabled = false                    }                }            }            break;        case "3":        case "8":            document.getElementById("phoneOutright").style.display = "none";            document.getElementById("phoneInputBox1").style.display = "none";            document.getElementById("phoneInputBox2").style.display = "";            document.getElementById("phoneInputBox3").style.display = "none";            document.getElementById("liveScoreContainer").style.display = "";            document.getElementById("RemarkContainer").style.display = b.lblhedgeBox;            document.getElementById("bp_hdp1Value_2").value = b.lblhdp1Value;            document.getElementById("bp_hdp2Value_2").value = b.lblhdp2Value;            obj = document.getElementById("bp_odds2");            obj.className = b.lblOddsColor;            obj.value = b.lblOddsValue;            obj = document.getElementById("liveScoreH");            obj.value = b.lblLiveScoreH;            obj.readOnly = b.lblReadyOnly;            obj = document.getElementById("liveScoreA");            obj.value = b.lblLiveScoreA;            obj.readOnly = b.lblReadyOnly;            break;        default:            document.getElementById("phoneOutright").style.display = "none";            document.getElementById("phoneInputBox1").style.display = "";            document.getElementById("phoneInputBox2").style.display = "none";            document.getElementById("phoneInputBox3").style.display = "none";            document.getElementById("RemarkContainer").style.display = b.lblhedgeBox;            if (b.hiddenBetType == "22") {                document.getElementById("liveScoreContainer").style.display = ""            } else {                document.getElementById("liveScoreContainer").style.display = "none"            }            document.getElementById("bp_hdp1Value_1").value = b.lblhdp1Value;            document.getElementById("bp_hdp2Value_1").value = b.lblhdp2Value;            obj = document.getElementById("bp_odds1");            obj.className = b.lblOddsColor;            obj.value = b.lblOddsValue;            document.getElementById("liveScoreH").value = b.lblLiveScoreH;            document.getElementById("liveScoreA").value = b.lblLiveScoreA;            break    }    obj = document.getElementById("spAway_P");    obj.style.display = "";    obj.innerHTML = b.lblAway;    document.getElementById("spHome_P").innerHTML = b.lblHome;    document.getElementById("spLeaguename_P").innerHTML = b.lblLeaguename;    document.getElementById("spMinBetValue_P").innerHTML = b.lblMinBetValue;    document.getElementById("spMaxBetValue_P").innerHTML = b.lblMaxBetValue;    document.getElementById("stakeRequest_P").value = b.hiddenStakeRequest;    document.getElementById("oddsRequest_P").value = b.hiddenOddsRequest;    document.getElementById("MINBET_P").value = b.hiddenMinBet;    document.getElementById("MAXBET_P").value = b.hiddenMaxBet;    document.getElementById("bettype_P").value = b.hiddenBetType;    document.getElementById("oddsType_P").value = b.hiddenOddsType;    document.getElementById("trlPayOut_P").style.display = "";    if (b.hiddenStakeRequest == "") {        document.getElementById("BPstake_P").value = ""    } else {        document.getElementById("BPstake_P").value = b.hiddenStakeRequest    }    document.getElementById("payOut_P").innerHTML = "";    document.getElementById("BPstake_P").focus();    document.getElementById("BPBetKey_P").value = b.hiddenBetKey}function SetBetProcessDataNormal(a) {    obj = document.getElementById("menuTitle");    obj.style.display = "";    obj.innerHTML = a.lblSportKind + " / ";    obj = document.getElementById("tdBetKind");    obj.setAttribute("height", "=27");    obj.innerHTML = a.lblBetKind;    obj = document.getElementById("BPstake");    if (document.all) {        obj.onKeyDown = function() {            validateOnKD(this, event)        };        obj.onkeyup = function() {            payOutOnKU(this, event)        }    } else {        obj.setAttribute("onkeyup", "payOutOnKU(document.getElementById('BPstake'), event)");        obj.setAttribute("onKeyDown", "validateOnKD('BPstake', event)")    }    if (document.getElementById("tr_StakeMultiples") != null) {        document.getElementById("tr_StakeMultiples").style.display = "none"    }    document.getElementById("trOddsHorseFixedInfo").style.display = "none";    document.getElementById("trlPayOut").style.display = "";    document.getElementById("trOddsInfo").style.display = "";    if (document.getElementById("imgHorseJockey") != null) {        document.getElementById("imgHorseJockey").style.display = "none";        document.getElementById("imgHorseJockey").src = fFrame.imgServerURL + "/images/space.gif"    }    document.getElementById("spHome").innerHTML = a.lblHome;    document.getElementById("spAway").innerHTML = a.lblAway;    document.getElementById("spLeaguename").innerHTML = a.lblLeaguename;    document.getElementById("spMinBetValue").innerHTML = a.lblMinBetValue;    document.getElementById("spMaxBetValue").innerHTML = a.lblMaxBetValue;    try {        document.getElementById("BPstake").focus()    } catch (b) {}}function SetBetProcessDataRacing(a, d) {    obj = document.getElementById("hrmenuTitle");    obj.style.display = "";    if (d.isVRace) {        obj.innerHTML = a.lblSportKind + " / <br/>"    } else {        obj.innerHTML = a.lblSportKind + " / "    }    obj = document.getElementById("hrtdBetKind");    obj.setAttribute("height", "=27");    obj.innerHTML = a.lblBetKind;    obj = document.getElementById("HorseBPstake");    if (document.all) {        obj.onKeyDown = function() {            validateOnKD(this, event)        };        obj.onkeyup = function() {            payOutOnKU(this, event)        }    } else {        obj.setAttribute("onkeyup", "payOutOnKU(document.getElementById('HorseBPstake'), event)");        obj.setAttribute("onKeyDown", "validateOnKD('HorseBPstake', event)")    }    document.getElementById("trlPayOut").style.display = "none";    if (d.HorseFixed) {        document.getElementById("trOddsHorseFixedInfo").style.display = "";        document.getElementById("trOddsInfo").style.display = "none"    } else {        document.getElementById("trOddsHorseFixedInfo").style.display = "none";        document.getElementById("trOddsInfo").style.display = "none"    }    document.getElementById("imgHorseJockey").style.display = "";    document.getElementById("imgHorseJockey").src = a.imgHorseJockey;    document.getElementById("hrtr_StakeMultiples").style.display = "";    var c = document.getElementById("hrsp_stakeMultiples");    if (a.hiddenBetType == "33" || a.hiddenBetType == "43" || a.hiddenBetType == "1233") {        c.innerHTML = document.getElementById("hidStake2").value    } else {        c.innerHTML = ""    }    document.getElementById("hrspHome").innerHTML = a.lblHome;    document.getElementById("hrspAway").innerHTML = a.lblAway;    if (a.lblLeaguename == "") {        document.getElementById("hrspLeaguename").style.display = "none";        document.getElementById("VRaceOddsDisp1").style.display = "";        document.getElementById("VRaceOddsDisp2").style.display = "";        switch (a.hiddenBetType) {            case "1231":                document.getElementById("VRaceOddsDisp2").innerHTML = a.lblOddsValue;                break;            case "1232":                document.getElementById("VRaceOddsDisp2").innerHTML = a.lblPlaceOddsValue;                break;            case "1233":                document.getElementById("VRaceOddsDisp2").innerHTML = a.lblOddsValue + "/" + a.lblPlaceOddsValue;                break        }    } else {        document.getElementById("VRaceOddsDisp1").style.display = "none";        document.getElementById("VRaceOddsDisp2").style.display = "none";        document.getElementById("hrspLeaguename").style.display = "";        document.getElementById("hrspLeaguename").innerHTML = a.lblLeaguename    }    document.getElementById("hrspMinBetValue").innerHTML = a.lblMinBetValue;    document.getElementById("hrspMaxBetValue").innerHTML = a.lblMaxBetValue;    try {        document.getElementById("HorseBPstake").focus()    } catch (b) {}}function SetBetProcessDataInit(a) {    selBetMode = "OU";    if (document.getElementById("BP_SPORT") != null) {        document.getElementById("BP_SPORT").style.display = "none"    }    if (document.getElementById("BP_RACE") != null) {        document.getElementById("BP_RACE").style.display = "none"    }    if (document.getElementById("VR_tr1") != null) {        document.getElementById("VR_tr1").style.display = "none";        document.getElementById("VRPayout").innerHTML = ""    }    if (document.getElementById("VR_tr2") != null) {        document.getElementById("VR_tr2").style.display = "none";        document.getElementById("VRMaxPayout").innerHTML = ""    }    var g = new Object();    var e = false;    if (a.hiddenSportType == "151" || a.hiddenSportType == "152" || a.hiddenSportType == "153") {        if (document.getElementById("BP_RACE") != null) {            document.getElementById("BP_RACE").style.display = ""        }        e = true    } else {        if (a.hiddenSportType == "181" || a.hiddenSportType == "182" || a.hiddenSportType == "183" || a.hiddenSportType == "184" || a.hiddenSportType == "185") {            if (a.hiddenBetType == "1233") {                if (document.getElementById("VR_tr2") != null) {                    document.getElementById("VR_tr2").style.display = ""                }            } else {                if (document.getElementById("VR_tr1") != null) {                    document.getElementById("VR_tr1").style.display = ""                }            }            if (document.getElementById("BP_RACE") != null) {                document.getElementById("BP_RACE").style.display = ""            }        } else {            if (document.getElementById("BP_SPORT") != null) {                document.getElementById("BP_SPORT").style.display = ""            }        }    }    if (document.getElementById("cbAutoAccept") != null) {        document.getElementById("cbAutoAccept").checked = false    }    if (document.getElementById("divAutoAccept") != null) {        if (a.lblAutoAccept == "") {            document.getElementById("btnAutoAccept").style.display = "none";            document.getElementById("divAutoAccept").style.display = "none"        } else {            $("#btnAutoAccept").find("span").html(a.lblAutoAccept);            $("#btnAutoAccept").find("span").attr("title", a.lblAutoAccept);            document.getElementById("btnAutoAccept").style.display = "";            document.getElementById("divAutoAccept").style.display = ""        }    }    var d = false;    var b = false;    var c = false;    var f = false;    if (a.hiddenBetType == "41" || a.hiddenBetType == "42" || a.hiddenBetType == "43") {        b = true    } else {        if (a.hiddenBetType == "31" || a.hiddenBetType == "32" || a.hiddenBetType == "33") {            c = true        } else {            f = true        }    }    if (a.hiddenBetType == "1231" || a.hiddenBetType == "1232" || a.hiddenBetType == "1233") {        c = true;        isVRace = true;        f = false    } else {        isVRace = false    }    if (fFrame.SiteMode == "1") {        d = true    }    g.IsRacing = e;    g.HorseFixed = b;    g.HorseTote = c;    g.NormalBet = f;    g.isPhone = d;    g.isVRace = isVRace;    return g}var g_BetProcesCurrMatchid = null;function SetBetProcessData(a) {    var i = SetBetProcessDataInit(a);    var e = i.IsRacing;    dobet = false;    var g;    var d = i.isPhone;    var b = i.HorseFixed;    var c = i.HorseTote;    var f = i.NormalBet;    DropTimeoutHandlers();    if (d) {        SetBetProcessDataPhone(a)    } else {        SetBetProcessDataNoPhone(a, i)    }    $("#scoremap").unbind("click");    $("#scoremap").hide();    g_BetProcesCurrMatchid = null;    switch (a.hiddenSportType) {        case "1":            g_BetProcesCurrMatchid = a.matchid;            if (ShowScoreMap(a.hiddenBetType)) {                var h = function() {                    var l = $("#bp_Match").val();                    var j = l.split("_");                    var k = $("#BPstake").val();                    if (k.length == 0) {                        k = "0"                    }                    popScoreMap(a.matchid, "left", j[0], j[1], j[2], a.lblBetKindValue, k)                };                $("#scoremap").bind("click", h);                $("#scoremap").show();                if ((a.HasScoreMap == "1" && a.isAutoLoad != "Y") || fFrame.topFrame.g_SMF.IsOpen()) {                    h()                }            }            break;        case "3":        case "4":        case "8":        case "26":        case "28":            break;        default:            document.getElementById("liveScoreContainer").style.display = "none";            break    }    confirmMode = a.confirmMode;    if (a.singleBetData != "") {        document.getElementById("Betslip").innerHTML = HTMLDecode(a.singleBetData)    }}function ShowScoreMap(a) {    switch (a) {        case "14":        case "16":        case "127":        case "128":        case "133":        case "134":        case "135":        case "140":        case "141":        case "142":        case "145":        case "146":        case "147":        case "148":        case "149":        case "150":        case "152":            return false;            break;        default:            return true;            break    }}function HTMLDecode(c) {    var b = document.createElement("div");    b.innerHTML = c;    var a = b.innerText || b.textContent;    b = null;    return a}function DoSpecialBetProcess(d, f, g, h, b, c, e, i) {    document.getElementById("div_MixParlay").style.display = "none";    tmp_obj = document.getElementById("FScreen");    var a = d + "_" + f + "_" + g + "_" + h + "_" + b + "_" + c + "_" + e;    DropTimeoutHandlers();    if (fFrame.SiteMode == "1") {        DoLeftMenuDisplay();        document.getElementById("bp_p_Match").value = a;        document.getElementById("bp_p_ssport").value = i;        document.fomBetProcessPhone_Data.action = "BetProcess_Data_S.aspx";        document.fomBetProcessPhone_Data.submit()    } else {        if (fFrame.SiteMode == "0") {            CloseMiniGame()        }        DoLeftMenuDisplay();        document.getElementById("HorseBPstake").value = "";        document.getElementById("payOut").innerHTML = "";        if (document.getElementById("HorseFixKeep") != null) {            document.getElementById("HorseFixKeep").innerHTML = "<span>" + RES_KeepOdds + "</span>"        }        document.getElementById("bp_Match").value = a;        document.getElementById("bp_ssport").value = i;        document.fomBetProcess_Data.action = "BetProcess_Data_S.aspx";        document.fomBetProcess_Data.submit();        CtrlSubmitBtnDisabled(true)    }}function processMsg(f, e) {    if (document.getElementById("stakeRequest").value.length != 0) {        if (e.IsRacing || e.isVRace) {            document.getElementById("HorseBPstake").value = addCommas(document.getElementById("stakeRequest").value);            document.getElementById("HorseBPstake").select()        } else {            document.getElementById("BPstake").value = addCommas(document.getElementById("stakeRequest").value);            document.getElementById("BPstake").select()        }        CtrlSubmitBtnDisabled(false)    }    document.getElementById("divHorseFixKeepBetProcess").style.display = "none";    if (f == "201") {        document.getElementById("divKeepBetProcess").style.display = "";        var b = document.getElementById("chk_BettingChange").value;        if (1 & parseInt(b, 10)) {            document.getElementById("bodds").className = "UdrDogOddsClass Odds_Upd"        } else {            document.getElementById("bodds").className = "UdrDogOddsClass"        }        if (2 & parseInt(b, 10)) {            document.getElementById("sbBetKindValue").className = "HdpGoalClass Odds_Upd"        } else {            document.getElementById("sbBetKindValue").className = "HdpGoalClass"        }        if (4 & parseInt(b, 10)) {            document.getElementById("tdBetprocessMaxBet").className = "maxbet Odds_Upd"        } else {            document.getElementById("tdBetprocessMaxBet").className = "maxbet"        }        if (8 & parseInt(b, 10) && 1 & parseInt(b, 10)) {            alert(RES_FncOddsChangeMsg + document.getElementById("oddChange1").value + " " + document.getElementById("oddsRequest").value + " " + document.getElementById("oddChange2").value + " " + document.getElementById("bodds").innerHTML)        } else {            if (8 & parseInt(b, 10) && 2 & parseInt(b, 10)) {                alert(RES_FncIndexChangeMsg)            }        }    } else {        if (f != "151" && f != "152" && f != "153") {            var b = document.getElementById("chk_BettingChange").value;            if (f != "outright") {                document.getElementById("divKeepBetProcess").style.display = ""            }            var a = false;            if (b.indexOf("1") != -1) {                if (fFrame.LastBettingMode == 0) {                    setTimeout("alert('" + document.getElementById("oddChange1").value + " " + document.getElementById("oddsRequest").value + " " + document.getElementById("oddChange2").value + " " + document.getElementById("bodds").innerHTML + "');", 100)                }                document.getElementById("tdLiveBgColor").className = "bet";                a = true            }            if (b.indexOf("2") != -1) {                document.getElementById("tdLiveBgColor").className = "bet Odds_Upd";                a = true            }            if (b.indexOf("3") != -1) {                document.getElementById("tdBetprocessMaxBet").className = "bet Odds_Upd";                a = true            }            if (b.indexOf("4") != -1) {                document.getElementById("tdLiveBgColor").className = "bet";                document.getElementById("tdBetprocessMaxBet").className = "BetprocessMaxBet";                document.getElementById("tdBetprocessMinBet").className = "BetprocessMinBet";                a = true            }            if (b.indexOf("5") != -1) {                document.getElementById("tdBetprocessMinBet").className = "bet Odds_Upd";                a = true            }            if (a) {                CtrlSubmitBtnDisabled(false)            }        } else {            document.getElementById("divKeepBetProcess").style.display = "none";            var d = document.getElementById("bp_Match").value.split("_");            var c = d[4];            if (c == "41" || c == "42" || c == "43") {                document.getElementById("divHorseFixKeepBetProcess").style.display = ""            } else {                document.getElementById("divHorseFixKeepBetProcess").style.display = "none"            }            var b = document.getElementById("chk_BettingChange").value;            var a = false;            if (b.indexOf("1") != -1) {                if (fFrame.LastBettingMode == 0) {                    setTimeout("alert('" + document.getElementById("oddChange1").value + " " + document.getElementById("oddsRequest").value + " " + document.getElementById("oddChange2").value + " " + document.getElementById("bodds").innerHTML + "');", 100)                }                document.getElementById("tdLiveBgColor").className = "bet";                a = true            }            if (b.indexOf("2") != -1) {                document.getElementById("tdHorseFixedBgColor").className = "bet Odds_Upd";                a = true            }            if (b.indexOf("3") != -1) {                document.getElementById("tdBetprocessMaxBet").className = "bet Odds_Upd";                a = true            }            if (b.indexOf("4") != -1) {                document.getElementById("tdHorseFixedBgColor").className = "bet";                document.getElementById("tdBetprocessMaxBet").className = "BetprocessMaxBet";                document.getElementById("tdBetprocessMinBet").className = "BetprocessMinBet";                a = true            }            if (b.indexOf("5") != -1) {                document.getElementById("tdBetprocessMinBet").className = "bet Odds_Upd";                a = true            }            if (a) {                CtrlSubmitBtnDisabled(false)            }        }    }}function DoSuccessBet() {    document.fomSuccessBet.submit()}function SetSuccessBet(a) {    var b;    b = document.getElementById("su_spRefnoValue");    b.innerHTML = a.lblRefnoValue;    b = document.getElementById("su_spTypeName");    b.innerHTML = a.lblTypeName;    b = document.getElementById("su_spHome");    b.innerHTML = a.lblHome;    b = document.getElementById("su_spAway");    b.innerHTML = a.lblAway;    b = document.getElementById("su_tdLeaguename");    b.innerHTML = "(" + a.lblLeaguename + ")";    b = document.getElementById("su_tdBetKind");    b.innerHTML = a.lblBetKind;    b = document.getElementById("su_spBetKindValue");    b.innerHTML = a.lblBetKindValue;    b = document.getElementById("su_spOddsValue");    b.innerHTML = a.lblOddsValue;    b = document.getElementById("su_spChoiceValue");    b.innerHTML = a.lblChoiceValue;    b = document.getElementById("su_spStakeValue");    b.innerHTML = a.lblStakeValue;    b = document.getElementById("su_spStatusValue");    b.innerHTML = a.lblStatusValue;    b = document.getElementById("su_spPwinningValue");    b.innerHTML = a.lblPwinningValue;    b = document.getElementById("liveindicator");    b.value = a.hiddenLiveindicator;    ChangeDisplayMode("su", null, a.hiddenLiveindicator)}function bin2String(a, e, c) {    var d = "";    for (var b = e; b < (e + c); b++) {        d += String.fromCharCode(a[b])    }    return d}var Base64Binary = {    _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",    decodeArrayBuffer: function(c) {        var b = (c.length / 4) * 3;        var a = new ArrayBuffer(b);        this.decode(c, a);        return a    },    decode: function(m, a) {        var o = this._keyStr.indexOf(m.charAt(m.length - 1));        var p = this._keyStr.indexOf(m.charAt(m.length - 2));        var b = (m.length / 4) * 3;        if (o == 64) {            b--        }        if (p == 64) {            b--        }        var q;        var c, d, e;        var f, g, h, k;        var l = 0;        var n = 0;        if (a) {            q = new Uint8Array(a)        } else {            q = new Uint8Array(b)        }        m = m.replace(/[^A-Za-z0-9\+\/\=]/g, "");        for (l = 0; l < b; l += 3) {            f = this._keyStr.indexOf(m.charAt(n++));            g = this._keyStr.indexOf(m.charAt(n++));            h = this._keyStr.indexOf(m.charAt(n++));            k = this._keyStr.indexOf(m.charAt(n++));            c = (f << 2) | (g >> 4);            d = ((g & 15) << 4) | (h >> 2);            e = ((h & 3) << 6) | k;            q[l] = c;            if (h != 64) {                q[l + 1] = d            }            if (k != 64) {                q[l + 2] = e            }        }        return q    }};