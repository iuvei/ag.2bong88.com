var bStandalonePlayer=false;var isReSizeLoading=false;var StreamingStatusIsLogin=GetIBC_IsLogin();var isPlaySuccess=false;var ImgServURL="";var CurrentHorseChannelID="";var fFrame=getParent(window);var OpenStreamingFlag=false;var setOpenStreamingTimer=null;function ChkOpener(){if(window.opener==null){window.open("","_self","");window.opener=null;window.close()}}function CloseWindow(){window.opener=null;window.close()}function getParent(b){var a=b;for(var c=0;c<4;c++){if(a.SiteMode!=null){return a}else{if(a.parent!=null){a=a.parent}else{return null}}}return null}function StandalonePlayer(){var b=document.getElementById("mintxtdiv");var a=document.getElementById("maxtxtdiv");b.disabled=true;a.disabled=true;if(document.getElementById("containerhead").style.display=="block"){bStandalonePlayer=true;document.getElementById("containerhead").style.display="none";document.getElementById("containerhead").style.visibility="hidden";document.getElementById("containerleft").style.display="none";document.getElementById("containerleft").style.visibility="hidden";document.getElementById("footer").style.display="none";document.getElementById("footer").style.visibility="hidden";document.getElementById("minimgdiv").style.display="none";document.getElementById("minimgdiv").style.visibility="hidden";document.getElementById("maximgdiv").style.display="block";document.getElementById("maximgdiv").style.visibility="visible";document.getElementById("mintxtdiv").style.display="none";document.getElementById("mintxtdiv").style.visibility="hidden";document.getElementById("maxtxtdiv").style.display="block";document.getElementById("maxtxtdiv").style.visibility="visible";document.getElementById("blueArea").style.display="none"}else{bStandalonePlayer=false;document.getElementById("containerhead").style.display="block";document.getElementById("containerhead").style.visibility="visible";document.getElementById("containerleft").style.display="inline-block";document.getElementById("containerleft").style.visibility="visible";document.getElementById("footer").style.display="block";document.getElementById("footer").style.visibility="visible";document.getElementById("minimgdiv").style.display="block";document.getElementById("minimgdiv").style.visibility="visible";document.getElementById("maximgdiv").style.display="none";document.getElementById("maximgdiv").style.visibility="hidden";document.getElementById("mintxtdiv").style.display="block";document.getElementById("mintxtdiv").style.visibility="visible";document.getElementById("maxtxtdiv").style.display="none";document.getElementById("maxtxtdiv").style.visibility="hidden";document.getElementById("blueArea").style.display="block";if(ScheduleType=="151"||ScheduleType=="152"||ScheduleType=="153"){document.getElementById("leftcont").src="StreamingSchedule.aspx?Type="+ScheduleType;window.leftcont.location.href="StreamingSchedule.aspx?Type="+ScheduleType;SwitchTopButton(151)}else{if(ScheduleType=="161"){document.getElementById("leftcont").src="StreamingSchedule.aspx?Type=161";window.leftcont.location.href="StreamingSchedule.aspx?Type=161";SwitchTopButton(161)}else{document.getElementById("leftcont").src="StreamingSchedule.aspx?Type=1";window.leftcont.location.href="StreamingSchedule.aspx?Type=1"}}}Resize(bStandalonePlayer);b.disabled=false;a.disabled=false}function SwitchTopButton(a){if(document.getElementById("sportbutton")!=null){document.getElementById("sportbutton").className=""}if(document.getElementById("racingbutton")!=null){document.getElementById("racingbutton").className=""}if(document.getElementById("numbergamebutton")!=null){document.getElementById("numbergamebutton").className=""}switch(a){case 151:case 152:case 153:if(document.getElementById("racingbutton")!=null){document.getElementById("racingbutton").className="current"}break;case 161:if(document.getElementById("numbergamebutton")!=null){document.getElementById("numbergamebutton").className="current"}break;default:if(document.getElementById("sportbutton")!=null){document.getElementById("sportbutton").className="current"}}}function Resize(b){try{var a=GetIBC_IsLogin();if(!isReSizeLoading&&a){var d=getParent(window.opener);ImgServURL=d.imgServerURL}if(!a){CloseWindow()}else{document.DataForm.submit()}AdjustSize(b);document.getElementById("containerMain").style.width="100%";document.getElementById("containerMain").style.height="100%";isReSizeLoading=true}catch(c){}}function AdjustSize(a){if(document.getElementById("HorseChannelID").value=="5"){$("body").removeClass("miniWin");if(a==true){$("body").addClass("double miniWin");window.resizeTo(1070,590);window.outerWidth=1085;window.outerHeight=590}else{$("body").addClass("double");try{window.resizeTo(1340,710);window.outerWidth=1355;window.outerHeight=710}catch(b){setTimeout("ResizeIE(1345,710,1355,710)",1000)}}}else{$("body").removeClass("double");$("body").removeClass("double miniWin");if(a==true){$("body").addClass("miniWin");window.resizeTo(550,590);window.outerWidth=565;window.outerHeight=590}else{try{window.resizeTo(820,710);window.outerWidth=825;window.outerHeight=710}catch(b){setTimeout("ResizeIE(820,710,825,710)",1000)}}}}function ResizeIE(d,f,c,b){try{window.resizeTo(d,f);window.outerWidth=c;window.outerHeight=b}catch(a){}}function Resize1(a){if((a==false&&document.getElementById("containerhead").style.display!="block")||(a==true&&document.getElementById("containerhead").style.display=="block")){StandalonePlayer()}}function SetTitle(a,b){document.getElementById("GreyhoundsContainer").style.display="none";document.getElementById("SportsContainer").style.display="block";document.getElementById("left_title").innerHTML=b;document.getElementById("Button1").style.display=(a=="0"?"block":"none")}function Refresh_List(){var a=GetIBC_IsLogin();if(StreamingStatusIsLogin!=a){CloseWindow()}else{if(ScheduleType=="151"||ScheduleType=="152"||ScheduleType=="153"){window.leftcont.location.href="StreamingSchedule.aspx?Type="+ScheduleType}else{if(ScheduleType=="161"){window.leftcont.location.href="StreamingSchedule.aspx?Type=161"}else{window.leftcont.location.href="StreamingSchedule.aspx?Type=1"}}}StreamingStatusIsLogin=a}function AutoRefreshLoginCheckin(){var a=GetIBC_IsLogin();if(StreamingStatusIsLogin!=a){CloseWindow()}else{var b=document.getElementById("containerleft");if(b!=null&&b.style.display=="inline-block"){var c=document.getElementById("leftcont");if(c!=null){document.getElementById("leftcont").contentWindow.location.reload(true)}}}StreamingStatusIsLogin=a}function GetIBC_IsLogin(){try{if(mainWindowIsClosed()){return false}return window.opener.fFrame.IsLogin}catch(a){return false}}function CheckLogin(){var a=GetIBC_IsLogin();if(StreamingStatusIsLogin!=a){CloseWindow()}}function mainWindowIsClosed(){return window.opener==null||window.opener.closed}function swapHorseStreaming(a){if(isHorseStreaming&&CurrentHorseChannelID!=a){SetLoadVideoLocation("9999","3",a)}}function OpenHorseStreaming(){CloseTVBox();var a=document.getElementById("HorseChannelID");if(a!=null){openRacingStreaming("151")}}function EuroOpenHorseStreaming(){CloseTVBox();var b=document.getElementById("HorseChannelID");if(b!=null){var a=b.value;var c="3";if(window.top.StreamingFrame==null||window.top.StreamingFrame.closed){window.top.StreamingFrame=window.open("../StreamingFrame.aspx?Matchid=9999&StreamingSrc="+c+"&HorseChannelID="+a,"StreamingFrame","top=200,left=300,height=485,width=525,status=no,toolbar=no,menubar=no,resizable=yes,location=no")}else{window.top.StreamingFrame.isHorseStreaming=true;window.top.StreamingFrame.swapHorseStreaming(a)}window.top.StreamingFrame.focus()}}function ChagneHorseStream(c){var a=document.getElementById("HorseChannelID");var b=fFrame.LastSelectedSport;if(a!=null){a.value=c}if(getStreamingFrameHandle()!=null&&!getStreamingFrameHandle().closed){if(c=="6"){if(getStreamingFrameHandle().CurrentHorseChannelID!=c){switchGreyhoundsStreaming();getStreamingFrameHandle().CurrentHorseChannelID=c}}else{getStreamingFrameHandle().isHorseStreaming=true;getStreamingFrameHandle().ScheduleType=b;getStreamingFrameHandle().swapHorseStreaming(c);getStreamingFrameHandle().ShowHorseRacingSchule(parseInt(b,10))}}}function ChagneBingoStream(){if(getStreamingFrameHandle()!=null&&!getStreamingFrameHandle().closed){getStreamingFrameHandle().isHorseStreaming=false;getStreamingFrameHandle().ScheduleType="161";getStreamingFrameHandle().swapBingoStreaming();getStreamingFrameHandle().ShowNumberGameSchule()}}function EuroChagneHorseStream(b){var a=document.getElementById("HorseChannelID");if(a!=null){a.value=b}else{setTimeout("EuroChagneHorseStream('"+b+"',100)");return}if(StreamingFrame!=null&&!StreamingFrame.closed){StreamingFrame.swapHorseStreaming(b)}}function swapBingoStreaming(){SetLoadVideoLocation("9999","5",0)}function SetLoadVideoLocation(b,c,a){a=a||"0";if(isPlaySuccess&&document.getElementById("Matchid").value==b&&document.getElementById("StreamingSrc").value==c&&document.getElementById("HorseChannelID").value==a){return}if(document.getElementById("containerhead").style.display=="block"){bStandalonePlayer=false}else{bStandalonePlayer=true}if(b!=""&&GetIBC_IsLogin()){if(document.getElementById("Matchid")!=null&&document.getElementById("StreamingSrc")!=null&&document.getElementById("HorseChannelID")!=null){document.getElementById("Matchid").value=b;document.getElementById("StreamingSrc").value=c;document.getElementById("HorseChannelID").value=a;document.DataForm.submit();AdjustSize(bStandalonePlayer)}}else{document.DataForm.submit();AdjustSize(bStandalonePlayer)}}window.focus();function getStreamingHtml(c,d,b){if(d==0){return""}if(vendorSetting.IsM88||vendorSetting.IsALog||vendorSetting.IsTLC||vendorSetting.IsDela||vendorSetting.IsSuncity||vendorSetting.IsMayfair||vendorSetting.IsZzun88||fFrame.SiteId=="4201100"){return""}if(fFrame.SiteMode==1){return""}var a=document.getElementById("cm-nav");if(b&&fFrame.IsUserStreaming){if(a!=null){return'<span style="display:inline-block;" onmouseover=\'OpenStreamingMenu('+c+",this)' onmouseout='CloseStreamingMenu("+c+',this)\'><span class="iconOdds tv"></span><div id="tv'+c+'" style="display:none; position:absolute; float:right;"></div></span>'}else{return"<a href='javascript:fFrame.openSingleStreaming("+c+',0);\'><span class="iconOdds tv"></span></a>'}}else{if(a!=null){return'<span class="iconOdds tv off"></span>'}else{return'<span class="iconOdds tv off"></span>'}}}function OpenStreamingMenu(b,c){var a=$(c).find("#tv"+b);if(a.length==0){a=$(document.getElementById("tv"+b))}if(a.html()==""){a.html(getStreamingMenuHtml(b))}a.css("display","block")}function CloseStreamingMenu(b,c){var a=$(c).find("#tv"+b);if(a.length==0){a=$(document.getElementById("tv"+b))}if(a.length>0){a.css("display","none")}}function getStreamingMenuHtml(c){var b=document.getElementById("cm-nav");if(b!=null){var a=b.innerHTML;a=a.replace(/#L/,"javascript:fFrame.openSingleStreaming("+c+",0);");a=a.replace(/#S/,"javascript:fFrame.openSingleStreaming("+c+",1);");return a}else{return""}}function getBingoStreamingHtml(){return"<a href='javascript:openBingoStreamingMain();'><span class=\"iconOdds tv\"></span></a>"}function ReflashSingleStreaming(){if(fFrame.leftFrame!=null){var a=fFrame.leftFrame.document.getElementById("iTV");var b=a.src;a.src="";a.src=b}}function SwitchSingleStreaming(){if(fFrame.leftFrame!=null){var b=fFrame.leftFrame.document.getElementById("iTV");var a=b.src;a=a.substr(a.indexOf("StreamingLV.aspx"));a=a.replace("StreamingLV.aspx?Matchid=","");a=a.replace("&TVmode=small","");CloseTVBox();openSingleStreaming(a,0)}}function openSingleStreaming(a,b){openSingleStreamingMain(a,b)}function openSingleStreamingMain(d,e){CloseStreamingMenu(d);switch(e){case 0:CloseTVBox();var a=function(f,g){if(f!=null&&!g){f.SetLoadVideoLocation(d,"1",0)}};fFrame.openWindowsHandle("StreamingFrame",true,"","StreamingFrame.aspx?Matchid="+d,"top=20,left=20,height=520,width=525,status=no,toolbar=no,menubar=no,resizable=yes,location=no,scrollbars=yes",false,a);break;case 1:var b=fFrame.getOpenWindowsHandle("StreamingFrame");if(b!=null&&!b.closed){b.CloseWindow()}CloseTVBox();if(fFrame.topFrame.document.getElementById("showhideleft").className=="show_left"){fFrame.topFrame.SwitchShowHidLeft();fFrame.topFrame.SwitchLefthideshow()}if(fFrame.leftFrame!=null){var c=fFrame.leftFrame.document.getElementById("iTV");c.src="StreamingLV.aspx?Matchid="+d+"&TVmode=small"}break;case 2:break}}function openBingoStreamingMain(){if(CanOpenStreaming()){CloseTVBox();var a=function(b,c){if(b!=null){b.isHorseStreaming=false;b.ScheduleType="161";if(!c){b.ShowNumberGameSchule();b.swapBingoStreaming()}}};fFrame.openWindowsHandle("StreamingFrame",true,"","StreamingFrame.aspx?Matchid=9999&StreamingSrc=5","top=20,left=20,height=520,width=565,status=no,toolbar=no,menubar=no,resizable=yes,location=no,scrollbars=yes",false,a)}}function CloseTVBox(){if(fFrame.leftFrame!=null){var a=fFrame.leftFrame.document.getElementById("iTV");if(a!=null){a.src=""}var b=fFrame.leftFrame.document.getElementById("TVBox");if(b!=null){b.style.display="none"}var c=fFrame.leftFrame.document.getElementById("div_Casino");if(c!=null){c.style.display=""}}}function openStreamingMain(){CloseTVBox();var b=topFrame.document.getElementById("iTV");b.disabled=true;b.href="JavaScript:void(0);";var a=function(c,d){if(c!=null&&!d){if(c.document.getElementById("containerhead")!=null){if(c.document.getElementById("containerhead").style.display=="none"){c.StandalonePlayer()}}if(userBrowser()=="Chrome"){c.blur()}else{c.focus()}}b.href="JavaScript:fFrame.openStreamingMain();";b.disabled=false};fFrame.openWindowsHandle("StreamingFrame",true,"","StreamingFrame.aspx","top=20,left=20,height=710,width=820,status=no,toolbar=no,menubar=no,resizable=yes,location=no,scrollbars=yes",false,a)}function CloseHorseInfoPopWindow(){try{if(HorseInfoPopWindow!=null&&HorseInfoPopWindow.open){HorseInfoPopWindow.close();HorseInfoPopWindow=null}if(getStreamingFrameHandle()!=null||getStreamingFrameHandle().open){getStreamingFrameHandle().close();fFrame.windowsHandle.StreamingFrame=null}}catch(a){}}function OpenGreyhoundsStreaming(){CloseTVBox();fFrame=getParent(window);var b=document.getElementById("HorseChannelID");if(b!=null){if(b.value=="5"){openRacingStreaming("152")}else{if(CanOpenStreaming()){var a=function(c,d){if(c!=null){if(d){setTimeout("getStreamingFrameHandle().ShowGreyhoundsContainer();",1000);setTimeout("switchGreyhoundsStreaming();",1500)}else{switchGreyhoundsStreaming()}}};fFrame.openWindowsHandle("StreamingFrame",true,"","StreamingFrame.aspx","top=20,left=20,height=680,width=825,status=no,toolbar=no,menubar=no,resizable=yes,location=no,scrollbars=yes",false,a)}}}}function OpenHarnessStreaming(){CloseTVBox();openRacingStreaming("153")}function CanOpenStreaming(){if(!OpenStreamingFlag){OpenStreamingFlag=true;if(typeof(setOpenStreamingTimer)!="undefined"){clearTimeout(setOpenStreamingTimer)}setOpenStreamingTimer=setTimeout("ReSetStreamingFlag()",3000);return true}else{return false}}function ReSetStreamingFlag(){OpenStreamingFlag=false}function openRacingStreaming(c){if(CanOpenStreaming()){var d="3";var b=document.getElementById("HorseChannelID");var a=b.value;fFrame=getParent(window);fFrame.openRacingStreamingMain(c,a)}}function openRacingStreamingMain(c,b){var d="3";var a=function(e,f){if(e!=null){e.isHorseStreaming=true;e.ScheduleType=c;if(!f){e.ShowHorseRacingSchule(c);e.swapHorseStreaming(b)}}};fFrame.openWindowsHandle("StreamingFrame",true,"","StreamingFrame.aspx?Matchid=9999&StreamingSrc="+d+"&RacingType="+c+"&HorseChannelID="+b,"top=20,left=20,height=520,width=525,status=no,toolbar=no,menubar=no,resizable=yes,location=no,scrollbars=yes",false,a)}function switchGreyhoundsStreaming(){bStandalonePlayer=false;getStreamingFrameHandle().document.getElementById("containerhead").style.display="block";getStreamingFrameHandle().document.getElementById("containerhead").style.visibility="visible";getStreamingFrameHandle().document.getElementById("containerleft").style.display="inline-block";getStreamingFrameHandle().document.getElementById("containerleft").style.visibility="visible";getStreamingFrameHandle().document.getElementById("footer").style.display="block";getStreamingFrameHandle().document.getElementById("footer").style.visibility="visible";getStreamingFrameHandle().document.getElementById("minimgdiv").style.display="block";getStreamingFrameHandle().document.getElementById("minimgdiv").style.visibility="visible";getStreamingFrameHandle().document.getElementById("maximgdiv").style.display="none";getStreamingFrameHandle().document.getElementById("maximgdiv").style.visibility="hidden";getStreamingFrameHandle().document.getElementById("mintxtdiv").style.display="block";getStreamingFrameHandle().document.getElementById("mintxtdiv").style.visibility="visible";getStreamingFrameHandle().document.getElementById("maxtxtdiv").style.display="none";getStreamingFrameHandle().document.getElementById("maxtxtdiv").style.visibility="hidden";getStreamingFrameHandle().document.getElementById("containerMain").style.width="100%";getStreamingFrameHandle().document.getElementById("containerMain").style.height="100%";getStreamingFrameHandle().isHorseStreaming=false;getStreamingFrameHandle().CurrentHorseChannelID="6";getStreamingFrameHandle().ShowGreyhoundsContainer()}function getStreamingFrameHandle(){return fFrame.getOpenWindowsHandle("StreamingFrame")};